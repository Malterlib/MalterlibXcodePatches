//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.442, BuildTime: 2023-12-27T19:00:48Z)
//
//    - LC_BUILD_VERSION:  Platform: macOS, MinOS: 13.0, SDK: 14.0, Tool: ld (1022.1)
//    - LC_SOURCE_VERSION: 22551.0.0.0.0
//
#ifndef IDETestRunSession_h
#define IDETestRunSession_h
#import <Foundation/Foundation.h>

#include "DVTInvalidation-Protocol.h"
#include "DVTProgressReporting-Protocol.h"
#include "IDESchemeActionRecord.h"
#include "IDETestManager.h"
#include "IDETestsActivityLogBuilder.h"
#include "IDETestsActivityLogBuilderDelegate-Protocol.h"
#include "IDETestsInTestableObserver-Protocol.h"
#include "XCTHTestTargetRunnerEvents-Protocol.h"
#include "XCTHTestingActivityGenerating-Protocol.h"
#include "_TtP10XCTHarness22XCTHRunDestinationPool_-Protocol.h"

@class DVTDisallowFinishToken, DVTFilePath, DVTOneShotBlock, DVTOperationGroup, DVTPerformanceMetric, DVTStackBacktrace, NSArray, NSCountedSet, NSDate, NSMapTable, NSMutableArray, NSMutableSet, NSString, _TtC10XCTHarness23XCTHInstallationTracker, _TtC10XCTHarness27XCTHRunDestinationAllocator, IDETestManager, XCTHarness_XCTHInstallationTracker, XCTHarness_XCTHRunDestinationAllocator;
@protocol XCTHTestMetadataDatabase;

@interface IDETestRunSession : NSObject<IDETestsActivityLogBuilderDelegate, XCTHTestTargetRunnerEvents, IDETestsInTestableObserver, XCTHTestingActivityGenerating, DVTProgressReporting, DVTInvalidation> {
  /* instance variables */
  NSMutableSet *_unitTestsObservers;
  NSMutableArray *_errors;
  unsigned long long _lastReportedMax;
  IDETestManager *_testManager;
  NSCountedSet *_runningTests;
  DVTOneShotBlock *_cleanupTestRunSessionBlock;
  NSDate *_startDate;
  BOOL _atLeastOneTestRunnerFailedWithError;
  BOOL _atLeastOneTestFailed;
}

@property (readonly) BOOL isUITestingSession;
@property BOOL hasFinished;
@property BOOL didCancel;
@property (copy) id /* block */ daemonControllerProvider;
@property (retain) NSMutableArray *testTargetRunners;
@property (nonatomic) unsigned long long totalNumberOfTests;
@property (nonatomic) unsigned long long currentTestNumber;
@property (retain) NSMapTable *pendingTestIDsForTargetRunner;
@property (retain) NSMapTable *alreadyRunTestIDsForTargetRunner;
@property (readonly) NSString *sessionIdentifier;
@property (readonly) unsigned long long sessionGenerationCount;
@property (retain) DVTDisallowFinishToken *testOperationDisallowFinishToken;
@property (retain) DVTDisallowFinishToken *finishWritingLogsToken;
@property (retain) IDETestsActivityLogBuilder *activityLogBuilder;
@property (retain) XCTHarness_XCTHInstallationTracker *installationTracker;
@property (retain) XCTHarness_XCTHRunDestinationAllocator *runDestinationAllocator;
@property (retain) NSObject<XCTHarness_XCTHRunDestinationPool> *runDestinationPool;
@property (readonly) NSMutableArray *mutableTestingActivities;
@property (retain) NSObject<XCTHTestMetadataDatabase> *testMetadataDatabase;
@property (readonly, copy) id /* block */ targetRunnerConstructor;
@property (retain) DVTOperationGroup *operationGroup;
@property (retain) DVTPerformanceMetric *performanceMetric;
@property (copy) NSString *currentDiagnosticsTask;
@property (readonly) NSMutableSet *additionalDeviceIdentifiersForDiagnosticsCollection;
@property (readonly) long long progress;
@property (readonly) IDESchemeActionRecord *schemeActionRecord;
@property (readonly) NSArray *testingActivities;
@property (readonly) DVTFilePath *testSessionDirectory;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) BOOL valid;
@property (readonly) DVTStackBacktrace *invalidationBacktrace;
@property (retain) DVTStackBacktrace *creationBacktrace;

/* class methods */
+ (void)initialize;
+ (id)fallbackTestSessionDiectoryForSessionIdentifier:(id)identifier;
+ (id /* block */)testSourceCodeLocationProvider;
+ (BOOL)shouldCollectDiagnosticsGiven:(long long)given ideIsInitialized:(BOOL)initialized userDefaultOverrideIsPresent:(BOOL)present failureOrErrorPredicate:(id /* block */)predicate;
+ (id)keyPathsForValuesAffectingProgress;
+ (void)logDebugMessage:(id)message;

/* instance methods */
- (id)initWithTestManager:(id)manager sessionGenerationCount:(unsigned long long)count runDestinationPool:(id)pool actionRecord:(id)record;
- (id)initWithTestManager:(id)manager testMetadataDatabase:(id)database sessionGenerationCount:(unsigned long long)count runDestinationPool:(id)pool actionRecord:(id)record targetRunnerConstructor:(id /* block */)constructor;
- (void)primitiveInvalidate;
- (void)_addUnitTestsObserver:(id)observer;
- (id)runningTests;
- (id)targetRunnersForTestable:(id)testable;
- (void)_addObserversWithActionRecord:(id)record workspace:(id)workspace activityLogSection:(id)section;
- (void)addTargetRunner:(id)runner parentOperationGroup:(id)group;
- (id)testOperationForTestRunSpecificationGroups:(id)groups executionEnvironment:(id)environment actionRecord:(id)record schemeIdentifier:(id)identifier outSchemeActionResultOperation:(id *)operation launchParametersBlock:(id /* block */)block actionCallbackBlock:(id /* block */)block error:(id *)error;
- (BOOL)_shouldPrintProgressMessagesForTestTargetRunner:(id)runner;
- (id)_contextStringForProgressMessageFromWorker:(id)worker;
- (void)_startMonitoringTestables;
- (void)_stopMonitoringTestables;
- (void)testTargetRunnerDidStart:(id)start;
- (void)testTargetRunner:(id)runner didEndWithError:(id)error wasCanceled:(BOOL)canceled;
- (void)addRepetitionForTargetRunner:(id)runner;
- (void)workerDidBecomeReadyForWork:(id)work forTestTargetRunner:(id)runner;
- (void)worker:(id)worker forTestTargetRunner:(id)runner didLaunchWithDiagnosticLogPath:(id)path;
- (void)worker:(id)worker forTestTargetRunner:(id)runner requestDiagnosticsForAdditionalDevices:(id)devices;
- (void)_considerFinishingWithCancellationFlag:(BOOL)flag diagnosticCollectionPolicy:(long long)policy;
- (id /* block */)defaultFailureOrErrorPredicate;
- (void)collectDiagnosticsBasedOn:(long long)on remainingTasks:(id)tasks;
- (void)_finishTestSession;
- (void)worker:(id)worker forTestTargetRunner:(id)runner willFinishWithError:(id)error didCancel:(BOOL)cancel;
- (void)worker:(id)worker forTestTargetRunner:(id)runner testSuite:(id)suite didStartAt:(id)at rawOutput:(id)output;
- (void)worker:(id)worker forTestTargetRunner:(id)runner testSuite:(id)suite willFinishAt:(id)at rawOutput:(id)output;
- (void)worker:(id)worker forTestTargetRunner:(id)runner testSuiteDidFinishWithRunCount:(unsigned long long)count skipCount:(unsigned long long)count failureCount:(unsigned long long)count expectedFailureCount:(unsigned long long)count uncaughtExceptionCount:(unsigned long long)count testDuration:(double)duration totalDuration:(double)duration rawOutput:(id)output;
- (void)_addRunningTest:(id)test;
- (void)worker:(id)worker forTestTargetRunner:(id)runner didStartTestWithIdentifier:(id)identifier rawOutput:(id)output;
- (void)worker:(id)worker forTestTargetRunner:(id)runner testWithIdentifier:(id)identifier willStartActivity:(id)activity;
- (void)worker:(id)worker forTestTargetRunner:(id)runner testWithIdentifier:(id)identifier didFinishActivity:(id)activity;
- (void)worker:(id)worker forTestTargetRunner:(id)runner testWithIdentifier:(id)identifier didMeasurePerformanceMetric:(id)metric rawOutput:(id)output;
- (void)worker:(id)worker forTestTargetRunner:(id)runner testCaseWithIdentifier:(id)identifier didRecordIssue:(id)issue rawOutput:(id)output;
- (void)worker:(id)worker forTestTargetRunner:(id)runner testCaseWithIdentifier:(id)identifier didRecordExpectedFailure:(id)failure rawOutput:(id)output;
- (void)worker:(id)worker forTestTargetRunner:(id)runner didSkipTestWithIdentifier:(id)identifier withTestResultMessage:(id)message rawOutput:(id)output;
- (void)_removeRunningTest:(id)test;
- (void)worker:(id)worker forTestTargetRunner:(id)runner didFinishTestWithIdentifier:(id)identifier withTestResult:(id)result rawOutput:(id)output;
- (void)worker:(id)worker forTestTargetRunner:(id)runner didUpdateAttachmentWithMetadata:(id)metadata;
- (BOOL)testIsPendingRun:(id)run forTargetRunner:(id)runner;
- (BOOL)testIsPendingRun:(id)run;
- (BOOL)testableIsPendingRun:(id)run;
- (void)_updateStatisticsForTargetRunner:(id)runner;
- (void)_updateStatisticsForTestable:(id)testable;
- (unsigned long long)_calculateTestsReported;
- (id)fileURLForTestIdentifier:(id)identifier;
- (void)testablesChanged:(id)changed;
- (void)testsChanged:(id)changed;
- (void)allTestablesChanged;
- (id)startActivityWithTitle:(id)title;
- (void)endActivity:(id)activity;
@end

#endif /* IDETestRunSession_h */
