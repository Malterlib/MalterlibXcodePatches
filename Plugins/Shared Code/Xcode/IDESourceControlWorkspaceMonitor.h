//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.442, BuildTime: 2023-12-27T19:00:48Z)
//
//    - LC_BUILD_VERSION:  Platform: macOS, MinOS: 13.0, SDK: 14.0, Tool: ld (1022.1)
//    - LC_SOURCE_VERSION: 22551.0.0.0.0
//
#ifndef IDESourceControlWorkspaceMonitor_h
#define IDESourceControlWorkspaceMonitor_h
#import <Foundation/Foundation.h>

#include "DVTInvalidation-Protocol.h"
#include "IDEContainerQuery.h"
#include "IDESourceControlManager.h"
#include "IDESourceControlWorkingTreeUpdaterDelegate-Protocol.h"
#include "IDESourceControlWorkspaceAnalytics.h"
#include "IDEWorkspace.h"

@class DVTDispatchLock, DVTFilePath, DVTNotificationToken, DVTObservingToken, DVTSourceControlWorkspace, DVTSourceControlWorkspaceBlueprint, DVTStackBacktrace, DVTTimeSlicedMainThreadWorkQueue, NSArray, NSDate, NSMutableArray, NSMutableDictionary, NSMutableSet, NSOperationQueue, NSString, NSTimer;
@protocol OS_dispatch_queue;

@interface IDESourceControlWorkspaceMonitor : NSObject<IDESourceControlWorkingTreeUpdaterDelegate, DVTInvalidation> {
  /* instance variables */
  IDEContainerQuery *_query;
  DVTTimeSlicedMainThreadWorkQueue *_fileReferenceProcessingQueue;
  NSMutableDictionary *_workspaceSCMInfo;
  NSMutableSet *_workspaceFolders;
  NSObject<OS_dispatch_queue> *_scanningQueue;
  BOOL _resumedScanningQueue;
  NSDate *_startDate;
  NSMutableSet *_repositoriesWarnedAreNewer;
  NSObject<OS_dispatch_queue> *_cachedBlueprintQueue;
  DVTDispatchLock *_workingTreesLock;
  DVTObservingToken *_containerQueryMatchesObserver;
  NSString *_developerFolderPathString;
  DVTDispatchLock *_derivedDataLock;
  DVTFilePath *_derivedDataFilePath;
  DVTObservingToken *_deriviedDataObservationToken;
  DVTFilePath *_intermediatesFilePath;
  DVTObservingToken *_intermediatesObservationToken;
  DVTFilePath *_productsFilePath;
  DVTObservingToken *_productsObservationToken;
  DVTFilePath *_clonedSourcePackagesFilePath;
  DVTObservingToken *_clonedSourcePackagesObservationToken;
  DVTNotificationToken *_sourceControlEnabledToken;
  NSMutableDictionary *_workingCopiesLastModified;
  NSMutableDictionary *_workingCopiesStageLastModified;
  NSMutableDictionary *_workingCopyRemotesFetchingDisabled;
  NSMutableDictionary *_workingCopyObservers;
  NSMutableDictionary *_workingCopyMetadataObservers;
}

@property (retain) IDESourceControlManager *sourceControlManager;
@property (retain) NSTimer *statusUpdateTimer;
@property (retain) IDESourceControlWorkspaceAnalytics *workspaceAnalytics;
@property unsigned long long state;
@property (retain) DVTSourceControlWorkspace *sourceControlWorkspace;
@property (retain) DVTSourceControlWorkspaceBlueprint *cachedBlueprint;
@property (readonly) NSOperationQueue *fetchFileStatusQueue;
@property (retain) id rootItem;
@property (readonly) NSArray *workingTrees;
@property (readonly, copy) NSArray *workingTreeUpdaters;
@property (readonly) NSArray *unmanagedWorkingTrees;
@property (readonly) NSArray *workingCopies;
@property (readonly) NSArray *sortedWorkingCopies;
@property double serverStatusUpdateInterval;
@property (nonatomic) BOOL localStatusCheckingEnabled;
@property (nonatomic) BOOL remoteStatusCheckingEnabled;
@property (readonly) BOOL isPerformingInitialWorkspaceScan;
@property (readonly) BOOL didScanWorkspace;
@property (readonly) IDEWorkspace *workspace;
@property (readonly, nonatomic) BOOL valid;
@property (readonly) DVTStackBacktrace *invalidationBacktrace;
@property (retain) DVTStackBacktrace *creationBacktrace;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* class methods */
+ (id /* block */)rootItemBlock;
+ (void)setRootItemBlock:(id /* block */)block;
+ (void)initialize;
+ (id)keyPathsForValuesAffectingIsPerformingInitialWorkspaceScan;
+ (id)keyPathsForValuesAffectingDidScanWorkspace;

/* instance methods */
- (id)init;
- (id)initWithSCMManager:(id)scmmanager;
- (void)_disableSourceControlMonitor;
- (void)primitiveInvalidate;
- (id)_workingTrees;
- (id)workingTreeForWorkingCopy:(id)copy;
- (id)workingTreeUpdaterForWorkingCopy:(id)copy;
- (void)_sortWorkingCopies;
- (void)addWorkingTree:(id)tree workingCopy:(id)copy;
- (BOOL)_filePathIsInDerivedDataFolder:(id)folder;
- (void)_requestScanWorkspaceFolders;
- (void)_scanWorkspaceFolders:(BOOL)folders;
- (void)addWorkspaceFilePathToCheck:(id)check;
- (void)scanForWorkingCopyInFilePath:(id)path;
- (void)_processFileReference:(id)reference;
- (void)_startScanningWorkspace:(id)workspace;
- (void)setSuppressCommitAlert:(BOOL)alert;
- (void)warnToCommitBefore:(id)before warnedBy:(id)by completionBlock:(id /* block */)block;
- (void)startScanningWorkspace:(id)workspace;
- (void)_updateAllWorkingCopyMetadata;
- (void)_updateWorkingCopyMetadata:(id)metadata;
- (void)forceUpdateWorkingCopyMetadata:(id)metadata;
- (void)beginObservingWorkingTrees;
- (void)endObservingWorkingTrees;
- (void)_updatePrimaryWorkingCopyInSourceControlWorkspace:(id)workspace forWorkspace:(id)workspace;
- (void)_scanBatchFinished;
- (void)updateWorkingCopyLocations;
- (void)addWorkingCopyObserver:(id)observer forPath:(id)path;
- (void)removeWorkingCopyObserver:(id)observer;
- (void)addWorkingCopyMetadataObserver:(id)observer forWorkingCopy:(id)copy;
- (void)removeWorkingCopyMetadataObserver:(id)observer;
- (BOOL)hasIgnoredDataTypeForStatusProcessing:(id)processing;
- (void)beginPeriodicServerStatusUpdates;
- (void)endPeriodicServerStatusUpdates;
- (void)fetchAndUpdateServerStatusForWorkingCopies;
- (void)fetchAndUpdateServerStatusForWorkingTreesWithCompletionBlock:(id /* block */)block;
- (id)disabledRemotesForWorkingCopy:(id)copy;
- (void)setDisabledRemotes:(id)remotes forWorkingCopy:(id)copy;
- (void)_disableRemote:(id)remote fromWorkingCopy:(id)copy;
- (void)_fetchFromWorkingCopiesWithForce:(BOOL)force completionBlock:(id /* block */)block;
- (void)_updateStatusForWorkingTreesWithRemoteStatus:(BOOL)status completionBlock:(id /* block */)block;
- (void)updateLocalStatusForWorkingTrees;
- (void)forceUpdateLocalStatusForWorkingTrees;
- (void)forceUpdateLocalStatusForWorkingTreesWithCompletionBlock:(id /* block */)block;
- (id)lastChangedDateForStageInWorkingCopy:(id)copy;
- (id)_SCMInfoFilePath;
- (id)_loadWorkspaceSCMInfo;
- (BOOL)_saveWorkspaceSCMInfo;
- (void)setSCMInfoObject:(id)object forSCMKey:(id)scmkey;
- (id)getSCMInfoObjectforKey:(id)key;
- (void)saveSCMInfo;
- (void)writeSCMInfoToWorkspace;
- (id)rootDirectoryOfAllWorkingCopies;
- (BOOL)workingTreeUpdater:(id)updater shouldIgnoreFilePathChange:(id)change;
- (void)metadataDidChangeForWorkingTreeUpdater:(id)updater;
- (void)indexMetadataDidChangeForWorkingTreeUpdater:(id)updater;
@end

#endif /* IDESourceControlWorkspaceMonitor_h */
