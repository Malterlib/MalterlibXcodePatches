//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.442, BuildTime: 2023-12-27T19:00:48Z)
//
//    - LC_BUILD_VERSION:  Platform: macOS, MinOS: 13.0, SDK: 14.0, Tool: ld (1022.1)
//    - LC_SOURCE_VERSION: 22540.0.0.0.0
//
#ifndef DVTTextCompletionSession_h
#define DVTTextCompletionSession_h
#import <Foundation/Foundation.h>

#include "DVTCancellable-Protocol.h"
#include "DVTInvalidation-Protocol.h"
#include "DVTTextCompletionDataSourceDelegate-Protocol.h"
#include "DVTTextCompletionListDataSource-Protocol.h"
#include "DVTTextCompletionListWindowController.h"
#include "DVTTextCompletionResultList-Protocol.h"
#include "DVTTextCompletionSupportingTextView-Protocol.h"

@class DVTObservingToken, DVTPerformanceMetric, DVTStackBacktrace, NSArray, NSDictionary, NSIndexSet, NSMutableArray, NSString;
@protocol NSView;

@interface DVTTextCompletionSession : NSObject<DVTTextCompletionDataSourceDelegate, DVTTextCompletionListDataSource, DVTInvalidation> {
  /* instance variables */
  DVTObservingToken *_readyToShowListener;
  NSDictionary *_priorityCoefficients;
  DVTPerformanceMetric *_currentMetric;
  int _pendingRequestState;
  BOOL _generatingCompletions;
  double _startGeneratingCompletionsTime;
  BOOL _insertingFullCompletion;
  BOOL _insertingPartialCompletion;
  BOOL _hidingCompletions;
  NSObject<DVTCancellable> *_updateCompletionsCancellable;
}

@property BOOL shownExplicitly;
@property (retain) NSArray *highlyLikelyCompletionItems;
@property (retain) NSObject<DVTTextCompletionResultList> *completionResultList;
@property (copy) NSString *usefulPrefix;
@property (readonly) BOOL readyToShowWindow;
@property BOOL completionTimerExpired;
@property (readonly) NSView<DVTTextCompletionSupportingTextView> *textView;
@property (readonly) DVTTextCompletionListWindowController *listWindowController;
@property (readonly) BOOL showingCompletions;
@property (readonly) BOOL hasAccessoryController;
@property (readonly) unsigned long long wordStartLocation;
@property (nonatomic) unsigned long long cursorLocation;
@property (readonly, copy) NSArray *expandedCompletionItems;
@property (readonly) NSArray *allCompletions;
@property (readonly) NSArray *arrangedCompletionItems;
@property (readonly) long long arrangedCompletionItemsChangeGeneration;
@property (nonatomic) unsigned long long selectedCompletionItemIndex;
@property (retain) NSIndexSet *selectedCompletionItemIndexes;
@property (readonly, nonatomic) NSDictionary *currentCompletionContext;
@property (copy) NSString *patternString;
@property (nonatomic) unsigned long long insertCompletionStyle;
@property (readonly) NSString *debugStateString;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) BOOL valid;
@property (readonly) DVTStackBacktrace *invalidationBacktrace;
@property (retain) DVTStackBacktrace *creationBacktrace;

/* class methods */
+ (void)initialize;
+ (void)_appendFrequentTextCompletions:(id)completions named:(id)named inBundle:(id)bundle;
+ (id)_frequentTextCompletionsDictionaryForLanguage:(id)language;
+ (id)recentTextCompletions;
+ (id)frequentTextCompletionsForLanguage:(id)language;
+ (id)frequentTextCompletionsSetForLanguage:(id)language;
+ (id)infrequentTextCompletionsForLanguage:(id)language;
+ (id)infrequentTextCompletionsSetForLanguage:(id)language;
+ (id)keyPathsForValuesAffectingShowingCompletions;
+ (id)keyPathsForValuesAffectingSelectedCompletionItemIndexes;
+ (id)keyPathsForValuesAffectingReadyToShowWindow;
+ (id)completionPriorityCoefficientsForLanguage:(id)language;
+ (unsigned long long)initialSelectedIndexForTransitioningFromResults:(id)results forPattern:(id)pattern toResults:(id)results forPattern:(id)pattern previouslySelectedIndex:(long long)index;
+ (long long)_indexOfItem:(id)item inSomewhatAlphabeticalList:(id)list;
+ (void)_addToRecentCompletions:(id)completions;

/* instance methods */
- (id)init;
- (id)initWithTextView:(id)view atLocation:(unsigned long long)location cursorLocation:(unsigned long long)location;
- (BOOL)isShowingCompletions;
- (BOOL)canExpandCompletionItem:(id)item;
- (BOOL)canCollapseCompletionItem:(id)item;
- (void)expandCompletionItem:(id)item;
- (void)collapseCompletionItem:(id)item;
- (void)setPendingRequestState:(int)state;
- (id)_listWindowController;
- (id)formatContextForCompletionItem:(id)item;
- (void)_completionTimerExpired;
- (void)_showCompletionsForTextView:(id)view wordRange:(struct NSRange)range;
- (void)showCompletionsExplicitly:(BOOL)explicitly;
- (void)showTemporarilyHiddenCompletionsForReasonMask:(unsigned long long)mask;
- (void)hideCompletionsWithReason:(int)reason;
- (BOOL)insertCurrentCompletion;
- (void)willDisplayCompletionItem:(id)item;
- (void)textCompletionAccessoryControllerShouldPrepareForCompletionItems:(id)items;
- (void)didDisplayCompletionItem:(id)item;
- (void)textCompletionWindowDidResize:(id)resize;
- (void)textCompletionWindowDidMove:(id)move;
- (void)textCompletionWindowDidShowWithAnimationDuration:(double)duration;
- (void)textCompletionWindowDidHide;
- (void)textCompletionWindowWillHideWithAnimationDuration:(double)duration;
- (id)messageForCompletionItem:(id)item;
- (id)completionTextForCompletionItem:(id)item;
- (BOOL)insertUsefulPrefix;
- (BOOL)_insertCurrentCompletionNameCharacters:(unsigned long long)characters;
- (void)selectNextCompletionItem;
- (void)selectPreviousCompletionItem;
- (BOOL)handleInsertText:(id)text;
- (BOOL)handleTextViewShouldChangeTextInRange:(struct NSRange)range replacementString:(id)string;
- (BOOL)handleTextViewShouldSetMarkedText:(id)text selectedRange:(struct NSRange)range;
- (BOOL)handleDeleteBackward;
- (BOOL)handleMoveRight;
- (BOOL)handleMoveLeft;
- (BOOL)handleMoveUp;
- (BOOL)handleMoveDown;
- (BOOL)handlePageUp;
- (BOOL)handlePageDown;
- (BOOL)handleMoveToBeginningOfDocument;
- (BOOL)handleMoveToEndOfDocument;
- (BOOL)handleSelectNextPlaceholder;
- (void)handleTextViewDidScroll;
- (void)_scrollMayHaveFinished;
- (BOOL)shouldAutoSuggestForTextChange;
- (BOOL)_shouldAcceptPartialCompletionForCursorLocation:(unsigned long long)location;
- (BOOL)shouldBeDismissedForSelectionChange;
- (BOOL)_gotUsefulCompletionsToShowInList:(id)list;
- (void)postArrangedItemsChanged;
- (id)targetDocumentLocation;
- (void)clearCompletionItemsIfNeeded;
- (void)integrateCompletions:(id)completions highlyLikelyCompletions:(id)completions fromDataSource:(id)source performanceMetric:(id)metric;
- (void)_ensureCompletionsUpToDate;
- (void)_setPatternString:(id)string forceFilter:(BOOL)filter;
- (double)_intrinsicPriorityForItem:(id)item usingPrefix:(id)prefix;
- (long long)_priorityBucketForItem:(id)item usingPrefix:(id)prefix;
- (id)_usefulPartialCompletionPrefixForCompletionItems:(id)items selectedIndex:(unsigned long long)index patternString:(id)string;
- (id)_commonPrefixForCompletionItems:(id)items;
- (void)completionsChangedForDataSource:(id)source;
- (struct NSRange)rangeOfFirstWordInString:(id)string;
- (id)_prefixForCurrentLocation;
- (struct NSRange)replacementRangeForSuggestedRange:(struct NSRange)range;
- (BOOL)showInfoPanelForSelectedCompletion;
- (void)showAccessoryWindow;
- (void)hideAccessoryWindow;
- (void)primitiveInvalidate;
- (BOOL)isShownExplicitly;
@end

#endif /* DVTTextCompletionSession_h */
