//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.442, BuildTime: 2023-12-27T19:00:48Z)
//
//    - LC_BUILD_VERSION:  Platform: macOS, MinOS: 13.0, SDK: 14.0, Tool: ld (1022.1)
//    - LC_SOURCE_VERSION: 22028.0.0.0.0
//
#ifndef IDEIndexingEngine_h
#define IDEIndexingEngine_h
#import <Foundation/Foundation.h>

#include "IDEBoltIndexImportSession.h"
#include "IDEIndex.h"

@class DVTNotificationToken, DVTPerformanceMetric, NSMutableArray, NSMutableDictionary, NSMutableSet, IDEIndex;
@protocol OS_dispatch_queue;

@interface IDEIndexingEngine : NSObject<NSCopying> {
  /* instance variables */
  NSObject<OS_dispatch_queue> *_engine_queue;
  NSMutableArray *_waitingLoadJobs;
  NSMutableArray *_waitingFileJobs;
  NSMutableSet *_waitingHeldJobs;
  NSMutableDictionary *_registeredIndexables;
  NSMutableDictionary *_rootPaths;
  NSMutableDictionary *_missingFiles;
  NSMutableDictionary *_priorityFiles;
  IDEBoltIndexImportSession *_session;
  DVTNotificationToken *_prebuildNotificationToken;
  double _timeIndexablesChanged;
  double _timeFileJobsChanged;
  double _timeJobsEnded;
  int _nScheduledJobs;
  BOOL _isActive;
  int _suspended;
  BOOL _wroteWorkspaceHeaderMap;
  BOOL _purgedStaleData;
  BOOL _isIndexing;
  BOOL _notified;
  BOOL _mightNotResume;
  BOOL _waitingForSessionToEnd;
  BOOL _waitingForMoreIndexables;
  BOOL _waitingForMoreFileJobs;
  DVTPerformanceMetric *_indexingMetric;
  long long _nCompleted;
  double _autoQueryProgress;
}

@property (readonly, nonatomic) IDEIndex *index;
@property (readonly, nonatomic) BOOL isQuiescent;
@property (readonly, nonatomic) BOOL isLoading;
@property (readonly, nonatomic) BOOL hasHeldJobs;
@property (nonatomic) double throttleFactor;
@property (nonatomic) BOOL delayToBatchChanges;
@property (readonly, nonatomic) BOOL isPaused;

/* class methods */
+ (void)runLoadJob:(id)job;
+ (BOOL)_runPrepareJobImpl:(id)impl;
+ (void)runPrepareJob:(id)job;
+ (void)runFileJob:(id)job;

/* instance methods */
- (id)initWithIndex:(id)index;
- (id)copyWithZone:(struct _NSZone *)zone;
- (void)dealloc;
- (void)databaseDidInitializeFromDatastore;
- (void)registerIndexable:(id)indexable;
- (void)indexableChanged:(id)changed addOnly:(BOOL)only;
- (void)unregisterIndexable:(id)indexable;
- (void)registerHotFile:(id)file;
- (void)clearHotFiles;
- (void)suspendIndexing:(BOOL)indexing;
- (void)suspendIndexing;
- (void)resumeIndexing;
- (void)stopIndexing;
- (void)indexFile:(id)file indexable:(id)indexable;
- (void)indexFile:(id)file indexable:(id)indexable outOfDateModTime:(struct IndexModificationTime { unsigned long long x0; })time;
- (void)indexFile:(id)file indexable:(id)indexable outOfDateModTime:(struct IndexModificationTime { unsigned long long x0; })time settings:(id)settings;
- (void)retryHeldJobs;
- (void)addPriorityFile:(id)file;
- (void)prunePriorityFiles;
- (void)_scheduleJob:(id)job;
- (void)_cancelJobs;
- (BOOL)shouldRunJob:(id)job;
- (void)didCompleteJob:(id)job;
- (void)didCancelJob:(id)job;
- (void)_scheduleJobs;
- (void)didEndImportSession:(id)session;
- (void)_setRootPaths:(id)paths forIndexable:(id)indexable;
- (void)_writeWorkspaceHeaderMap;
- (void)_purgeStaleData;
- (void)_startActivity;
- (void)_startFileActivity;
- (void)_reportProgress;
- (void)_endFileActivity;
- (void)_endActivity;
@end

#endif /* IDEIndexingEngine_h */
